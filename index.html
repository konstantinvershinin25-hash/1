<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö–≤–µ—Å—Ç –¥–ª—è –ª—é–±–∏–º–æ–π</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 0;
        padding: 0;
        color: #fff;
        overflow-x: hidden;
        background: linear-gradient(270deg, #ff99aa, #ffccdd, #ff99aa);
        background-size: 600% 600%;
        animation: gradientBG 15s ease infinite;
    }
    @keyframes gradientBG {
        0% {background-position: 0% 50%;}
        50% {background-position: 100% 50%;}
        100% {background-position: 0% 50%;}
    }
    h1 {
        font-size: 28px;
        margin: 0;
        padding: 20px;
        animation: glow 2s ease-in-out infinite alternate;
    }
    @keyframes glow {
        from { text-shadow: 0 0 5px #fff, 0 0 10px #ff6688; }
        to { text-shadow: 0 0 15px #fff, 0 0 30px #ff4466; }
    }
    .question {
        font-size: 20px;
        margin: 20px auto;
        padding: 10px 15px;
        background: rgba(255,255,255,0.2);
        border-radius: 10px;
        display: inline-block;
        max-width: 90%;
    }
    .answers button, .answers label {
        display: block;
        margin: 10px auto;
        padding: 10px 20px;
        font-size: 16px;
    }
    .answers button {
        border: none;
        border-radius: 8px;
        background-color: #ff6688;
        color: white;
        cursor: pointer;
        transition: 0.3s;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .answers button:hover {
        background-color: #ff4466;
        transform: scale(1.05);
    }
    .lives {
        margin: 15px 0;
        font-size: 18px;
        background: rgba(255,255,255,0.2);
        padding: 5px 15px;
        border-radius: 20px;
        display: inline-block;
    }
    .image-container img {
        max-width: 95%;
        margin-top: 20px;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0,0,0,0.3);
        opacity: 0;
        animation: fadeIn 1s forwards;
    }
    @keyframes fadeIn {
        to {opacity: 1;}
    }
    .hidden { display: none; }
    #result { font-size: 24px; margin-top: 30px; }
    /* –°–µ—Ä–¥–µ—á–∫–∏ */
    .heart {
        position: fixed;
        top: -10px;
        color: #ffcccc;
        font-size: 20px;
        animation: fall 6s linear infinite;
        opacity: 0.8;
        z-index: 0;
    }
    @keyframes fall {
        0% { transform: translateY(0) rotate(0deg); }
        100% { transform: translateY(110vh) rotate(360deg); }
    }
    /* –§–µ–π–µ—Ä–≤–µ—Ä–∫ */
    #fireworksCanvas {
        position: fixed;
        left: 0;
        top: 0;
        pointer-events: none;
        z-index: 10;
        display: none;
    }
    #congrats {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 32px;
        color: #fff;
        text-shadow: 0 0 10px #ff6688, 0 0 20px #ff4466;
        z-index: 20;
        display: none;
        animation: glow 1.5s ease-in-out infinite alternate;
        text-align: center;
    }
    /* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
    @media (max-width: 600px) {
        h1 { font-size: 22px; }
        .question { font-size: 18px; }
        .answers button, .answers label { font-size: 18px; padding: 12px 18px; }
        #congrats { font-size: 24px; padding: 10px; }
    }
</style>
</head>
<body>

<h1>üéâ –ö–≤–µ—Å—Ç –ø–æ –î–Ω—é –†–æ–∂–¥–µ–Ω–∏—è üéâ</h1>
<div class="lives">–ñ–∏–∑–Ω–∏: <span id="livesCount">5</span> ‚ù§Ô∏è</div>

<div id="game">
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
</div>

<div class="image-container hidden" id="imageContainer">
    <img id="rewardImage" src="" alt="–ù–∞–≥—Ä–∞–¥–∞">
    <br><button onclick="nextQuestion()">–î–∞–ª—å—à–µ ‚û°</button>
</div>

<div id="result" class="hidden"></div>

<canvas id="fireworksCanvas"></canvas>
<div id="congrats">üéâ –° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –°–æ–ª–Ω—ã—à–∫–æ. –Ø —Ç–µ–±—è –±–µ–∑—É–º–Ω–æ –ª—é–±–ª—é. üíñ üéâ</div>

<script>
let lives = 5;
let currentQuestion = 0;

const questions = [
    { text: "–í –∫–∞–∫–æ–π –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –º—ã –≤–º–µ—Å—Ç–µ –ø–æ–µ—Ö–∞–ª–∏ –≤–ø–µ—Ä–≤—ã–µ:", answers: ["–ö–æ–ø–µ–π—Å–∫", "–ú–∏–∞—Å—Å–∫–æ–µ", "–ö—É–ª—É–µ–≤–æ"], correct: [1], image: "images/1.JPG", multi: false },
    { text: "–ö–∞–∫–æ–π —Ç–≤–æ–π –ª—é–±–∏–º—ã–π –ø–∏—Ç–æ–º–µ—Ü:", answers: ["–ï—à–∞", "–û–ª–µ—Å—è (–∫–æ—à–∫–∞)", "–¢–æ–Ω–∏"], correct: [0], image: "images/2.JPG", multi: false },
    { text: "–¢–≤–æ–π –ª—É—á—à–∏–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è:", answers: ["–°–µ–π—á–∞—Å", "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", "–°–∞–º—ã–π –ø–µ—Ä–≤—ã–π –ø—Ä–æ–≤–µ–¥–µ–Ω—ã–π –≤–º–µ—Å—Ç–µ"], correct: [0], image: "images/3.JPG", multi: false },
    { text: "–õ—é–±–∏–º—ã–π —Ç–æ—Ä—Ç:", answers: ["–ö—Ä–∞—Å–Ω—ã–π –±–∞—Ä—Ö–∞—Ç", "–¢–æ—Ä—Ç –¥–Ω—è", "–ß–∏–∑–∫–µ–π–∫"], correct: [1], image: "images/4.JPG", multi: false },
    { text: "–õ—é–±–∏–º—ã–π —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫:", answers: ["–ú–∞–º–∞", "–ë–∞–±—É—à–∫–∞ –õ—é–±–∞", "–°–æ–Ω—è"], correct: [1], image: "images/5.JPG", multi: false },
    { text: "–ù–∞ —á—Ç–æ —Ç—ã –ø–æ—Ç—Ä–∞—Ç–∏—à—å –º–∏–ª–ª–∏–æ–Ω?", answers: ["–ù–∞ —Å–µ–±—è –ª—é–±–∏–º—É—é", "–ë—É–¥—É —É—Å–µ—Ä–¥–Ω–æ –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å", "–ù–∞ –ï—à—É"], correct: [0], image: "images/6.JPG", multi: false },
    { text: "–ß—Ç–æ —Ç—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏—à—å –ø–æ–ª—É—á–∞—Ç—å –æ—Ç —Å–≤–æ–µ–≥–æ –º—É–∂–∞:", answers: ["–¶–≤–µ—Ç—ã", "–ü–æ–¥–∞—Ä–æ—á–∫–∏", "–î–µ–Ω—å–≥–∏"], correct: [0,1,2], image: "images/7.JPG", multi: true },
    { text: "–ß—Ç–æ —Ç—ã –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –¥–µ–ª–∞–µ—à—å —É—Ç—Ä–æ–º?", answers: ["–ü—Ä–æ–≤–µ—Ä—è–µ—à—å —Ç–µ–ª–µ—Ñ–æ–Ω", "–£–º—ã–≤–∞–µ—à—å—Å—è", "–°–ª—É—à–∞–µ—à—å –º—É–∑—ã–∫—É"], correct: [0], image: "images/8.JPG", multi: false },
    { text: "–ß—Ç–æ –±—ã —è —Ç–µ–±–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–¥–∞—Ä–∏–ª –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?", answers: ["–¢–µ—Ö–Ω–∏–∫—É –¥–ª—è –¥–æ–º–∞", "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —á—Ç–æ-—Ç–æ", "–¢–æ, —á—Ç–æ —Ç—ã –≤—ã–±—Ä–∞–ª–∞"], correct: [0], image: "images/9.JPG", multi: false },
    { text: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª –ø–µ—Ä–≤—ã–π —Ç–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–π –≤–º–µ—Å—Ç–µ?", answers: ["2016", "2017", "2018"], correct: [1], image: "images/10.JPG", multi: false }
];

function showQuestion() {
    const q = questions[currentQuestion];
    document.getElementById("question").textContent = q.text;
    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    if (q.multi) {
        q.answers.forEach((ans, index) => {
            const label = document.createElement("label");
            label.style.display = "block";
            const checkbox = document.createElement("input");
            checkbox.type = "checkbox";
            checkbox.value = index;
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(" " + ans));
            answersDiv.appendChild(label);
        });
        const submitBtn = document.createElement("button");
        submitBtn.textContent = "–í—ã–±—Ä–∞—Ç—å";
        submitBtn.onclick = checkMultiAnswer;
        answersDiv.appendChild(submitBtn);
    } else {
        q.answers.forEach((ans, index) => {
            const btn = document.createElement("button");
            btn.textContent = ans;
            btn.onclick = () => checkAnswer(index);
            answersDiv.appendChild(btn);
        });
    }
}

function checkAnswer(selected) {
    if (questions[currentQuestion].correct.includes(selected)) {
        showImage();
    } else {
        loseLife();
    }
}

function checkMultiAnswer() {
    const checkboxes = document.querySelectorAll("#answers input[type=checkbox]");
    let selectedIndexes = [];
    checkboxes.forEach(cb => { if (cb.checked) selectedIndexes.push(parseInt(cb.value)); });

    const correct = questions[currentQuestion].correct;
    if (arraysEqual(selectedIndexes.sort(), correct.sort())) {
        showImage();
    } else {
        loseLife();
    }
}

function loseLife() {
    lives--;
    document.getElementById("livesCount").textContent = lives;
    if (lives <= 0) {
        endGame(false);
    } else {
        alert("–ù–µ–≤–µ—Ä–Ω–æ! –û—Å—Ç–∞–ª–æ—Å—å –∂–∏–∑–Ω–µ–π: " + lives);
    }
}

function arraysEqual(a, b) {
    return a.length === b.length && a.every((v, i) => v === b[i]);
}

function showImage() {
    document.getElementById("game").classList.add("hidden");
    document.getElementById("imageContainer").classList.remove("hidden");
    document.getElementById("rewardImage").src = questions[currentQuestion].image;
}

function nextQuestion() {
    document.getElementById("imageContainer").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
    currentQuestion++;
    if (currentQuestion >= questions.length) {
        endGame(true);
    } else {
        showQuestion();
    }
}

function endGame(win) {
    document.getElementById("game").classList.add("hidden");
    document.getElementById("imageContainer").classList.add("hidden");
    const res = document.getElementById("result");
    res.classList.remove("hidden");
    if (win) {
        startFireworks();
        showCongrats();
    } else {
        res.innerHTML = "<h2>üíî –ñ–∏–∑–Ω–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!</h2>";
    }
}

// –°–µ—Ä–¥–µ—á–∫–∏
function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (4 + Math.random() * 3) + "s";
    heart.textContent = "‚ù§Ô∏è";
    document.body.appendChild(heart);
    setTimeout(() => { heart.remove(); }, 7000);
}
setInterval(createHeart, 500);

// –§–µ–π–µ—Ä–≤–µ—Ä–∫
let canvas = document.getElementById('fireworksCanvas'),
    ctx = canvas.getContext('2d'),
    cw = window.innerWidth,
    ch = window.innerHeight;
canvas.width = cw; canvas.height = ch;
let fireworks = [], particles = [], hue = 120, limiterTotal = 5, limiterTick = 0, timerTotal = 80, timerTick = 0, mousedown = false, mx, my, animationFrameId;

function random(min, max) { return Math.random() * (max - min) + min; }
function calculateDistance(p1x, p1y, p2x, p2y) {
    let xDistance = p1x - p2x, yDistance = p1y - p2y;
    return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));
}
function Firework(sx, sy, tx, ty) {
    this.x = sx; this.y = sy; this.sx = sx; this.sy = sy; this.tx = tx; this.ty = ty;
    this.distanceToTarget = calculateDistance(sx, sy, tx, ty);
    this.distanceTraveled = 0;
    this.coordinates = []; this.coordinateCount = 3;
    while (this.coordinateCount--) { this.coordinates.push([this.x, this.y]); }
    this.angle = Math.atan2(ty - sy, tx - sx);
    this.speed = 2; this.acceleration = 1.05;
    this.brightness = random(50, 70); this.targetRadius = 1;
}
Firework.prototype.update = function(index) {
    this.coordinates.pop();
    this.coordinates.unshift([this.x, this.y]);
    if (this.targetRadius < 8) { this.targetRadius += 0.3; } else { this.targetRadius = 1; }
    this.speed *= this.acceleration;
    let vx = Math.cos(this.angle) * this.speed, vy = Math.sin(this.angle) * this.speed;
    this.distanceTraveled = calculateDistance(this.sx, this.sy, this.x + vx, this.y + vy);
    if (this.distanceTraveled >= this.distanceToTarget) {
        createParticles(this.tx, this.ty);
        fireworks.splice(index, 1);
    } else {
        this.x += vx; this.y += vy;
    }
};
Firework.prototype.draw = function() {
    ctx.beginPath();
    ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
    ctx.lineTo(this.x, this.y);
    ctx.strokeStyle = 'hsl(' + hue + ', 100%, ' + this.brightness + '%)';
    ctx.stroke();
};
function Particle(x, y) {
    this.x = x; this.y = y;
    this.coordinates = []; this.coordinateCount = 5;
    while (this.coordinateCount--) { this.coordinates.push([this.x, this.y]); }
    this.angle = random(0, Math.PI * 2); this.speed = random(1, 10); this.friction = 0.95;
    this.gravity = 1; this.hue = random(hue - 50, hue + 50); this.brightness = random(50, 80); this.alpha = 1; this.decay = random(0.015, 0.03);
}
Particle.prototype.update = function(index) {
    this.coordinates.pop(); this.coordinates.unshift([this.x, this.y]);
    this.speed *= this.friction; this.x += Math.cos(this.angle) * this.speed;
    this.y += Math.sin(this.angle) * this.speed + this.gravity; this.alpha -= this.decay;
    if (this.alpha <= 0.1) { particles.splice(index, 1); }
};
Particle.prototype.draw = function() {
    ctx.beginPath();
    ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
    ctx.lineTo(this.x, this.y);
    ctx.strokeStyle = 'hsla(' + this.hue + ', 100%, ' + this.brightness + '%, ' + this.alpha + ')';
    ctx.stroke();
};
function createParticles(x, y) {
    let particleCount = 50;
    while (particleCount--) { particles.push(new Particle(x, y)); }
}
function launchFirework() {
    fireworks.push(new Firework(cw / 2, ch, random(0, cw), random(0, ch / 2)));
}
function animate() {
    ctx.globalCompositeOperation = 'destination-out';
    ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
    ctx.fillRect(0, 0, cw, ch);
    ctx.globalCompositeOperation = 'lighter';
    for (let i = fireworks.length - 1; i >= 0; i--) { fireworks[i].draw(); fireworks[i].update(i); }
    for (let i = particles.length - 1; i >= 0; i--) { particles[i].draw(); particles[i].update(i); }
    animationFrameId = requestAnimationFrame(animate);
}
let fireworkInterval;
function startFireworks() {
    document.getElementById('fireworksCanvas').style.display = 'block';
    fireworkInterval = setInterval(launchFirework, 400);
    animate();
}
function showCongrats() {
    document.getElementById('congrats').style.display = 'block';
}

showQuestion();
</script>
</body>
</html>


